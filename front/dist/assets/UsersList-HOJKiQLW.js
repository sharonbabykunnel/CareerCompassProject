import{r,a as g,j as e,f as y}from"./index-D_QFsu5T.js";import{$ as f}from"./module-BGlolXFu.js";import{B as u}from"./url-C7Fa9dY1.js";const k=()=>{const[i,d]=r.useState(!1),[t,x]=r.useState(1),[c,h]=r.useState([]),[a,m]=r.useState(0),o=5,p=g(),b=async()=>{try{d(!0);const s=await y.get(`${u}/admin/getAllUsers/${t}`);h(s.data.users[1]),m(s.data.users[0])}catch(s){console.error("Error fetching users:",s)}finally{d(!1)}},j=async s=>{try{p("/admin/user",{state:{user:c[s]}})}catch(l){console.error(l)}};r.useEffect(()=>{b()},[t]);const n=s=>x(s);return e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full h-full max-w-6xl   overflow-auto",children:[e.jsx("div",{className:"flex justify-between items-center  mb-4",children:e.jsxs("h2",{className:"text-2xl font-semibold",children:["Users list ",a]})}),i?e.jsx("div",{className:"flex items-center justify-center h-[200px]",children:e.jsx(f,{})}):e.jsx(e.Fragment,{children:c.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("svg",{className:"w-12 h-12 mb-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 16h8M8 12h8M9 20h6a2 2 0 002-2V6a2 2 0 00-2-2H9a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("p",{className:"text-gray-600 text-center",children:"No Users yet"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-auto max-h-[60vh] scrollbar-hide",children:e.jsxs("table",{className:"min-w-full bg-white",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-4 border-b",children:"Name"}),e.jsx("th",{className:"py-2 px-4 border-b",children:"Photo"}),e.jsx("th",{className:"py-2 px-4 border-b",children:"Role"}),e.jsx("th",{className:"py-2 px-4 border-b",children:"Email"}),e.jsx("th",{className:"py-2 px-4 border-b",children:"Started In"}),e.jsx("th",{className:"py-2 px-4 border-b",children:"Status"})]})}),e.jsx("tbody",{children:c.map((s,l)=>e.jsxs("tr",{className:"",children:[e.jsx("td",{className:"py-8 px-2 border-b text-center",children:s.name}),e.jsx("td",{className:"py-2 px-4 border-b",children:e.jsx("img",{src:s.profilePhoto||"https://cdn-icons-png.flaticon.com/128/3059/3059518.png",alt:"Developer",className:"w-10 h-10 object-cover rounded-full m-auto"})}),e.jsx("td",{className:"py-2 px-4 border-b text-center",children:s.position}),e.jsx("td",{className:"py-2 px-4 border-b text-center",children:s.email}),e.jsx("td",{className:"py-2 px-4 border-b text-center",children:new Date(s.createdAt).toLocaleDateString()}),e.jsx("td",{className:"py-2 px-4 border-b text-center",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${s!=null&&s.isBlocked?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:s!=null&&s.isBlocked?"blocked":"unblocked"})}),e.jsx("td",{onClick:()=>j(l),className:"py-2 px-4 border-b text-center text-sm text-blue-600 cursor-pointer hover:text-blue-500",children:"View More"})]},l))})]})}),e.jsxs("div",{className:"flex justify-center mt-4 space-x-1",children:[e.jsx("button",{className:`px-4 py-2 border rounded-l-lg ${t===1?"opacity-50 cursor-not-allowed":"hover:bg-gray-200"}`,onClick:()=>n(t-1),disabled:t===1,children:"Previous"}),[...Array(Math.ceil(a/o)).keys()].map(s=>e.jsx("button",{className:`px-4 py-2 border ${t===s+1?"bg-gray-300":"hover:bg-gray-200"}`,onClick:()=>n(s+1),children:s+1},s)),e.jsx("button",{className:`px-4 py-2 border rounded-r-lg ${t===Math.ceil(a/o)?"opacity-50 cursor-not-allowed":"hover:bg-gray-200"}`,onClick:()=>n(t+1),disabled:t===Math.ceil(a/o),children:"Next"})]})]})})]})};export{k as default};
