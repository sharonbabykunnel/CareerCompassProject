import{e as E,r as d,h as B,j as e,M as L,a as M,b as A,a8 as F,L as I}from"./index-ClK_m8zv.js";import{a as O}from"./module-IQMhKO3c.js";import{j as J}from"./index-D0VsRAZI.js";import{E as P}from"./ExperienceForm-MfiI41dP.js";import{u as D}from"./formik.esm-DJSReezE.js";import{i as R}from"./job-DGFET02G.js";import{S as z}from"./SelectOption-CjniAO4L.js";import{S as $}from"./popup-DRkXmpwR.js";import{X as H}from"./x-BoneMfX0.js";import{A as S}from"./arrow-big-left-D8miQvVJ.js";import{M as V}from"./map-pin-DGVX_MjY.js";import{B as q}from"./briefcase-business-4Rx6cH0y.js";import"./index.esm-BfpN0ylN.js";import"./plus-CcE5BP7T.js";import"./hoist-non-react-statics.cjs-De5jhhz5.js";/**
 * @license lucide-react v0.411.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=E("Hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]),_=({isOpen:f,job:i,closeModal:h,setJob:y})=>{const[m,l]=d.useState(!0),[p,o]=d.useState([{},{},{}]),[b,j]=d.useState(""),N=()=>{v({...a,skills:[...a.skills,b]}),j("")},g=t=>{v({...a,skills:a.skills.filter(x=>x!==t)})},k=()=>{l(!0)},w=async()=>{const t=await T();!t.company&&!t.deadline&&!t.description&&!t.experience&&!t.location&&!t.title&&l(!1)};d.useEffect(()=>{i&&o(i.selected)},[]);const{handleChange:n,handleBlur:r,values:a,errors:s,touched:c,handleSubmit:u,setValues:v,validateForm:T}=D({initialValues:{title:i.title||"",description:i.description||"",location:i.location||1,company:i.company||"",experience:i.experience||"",workplaceType:i.workplaceType||"On-site",immidiate:i.immidiate||!1,experienceLevel:i.experienceLevel||"Entry-level",skills:i.skills||[],industry:i.industry||"",deadline:i.deadline||"",jobType:i.jobType||"Full-time"},validationSchema:J,onSubmit:async(t,x)=>{try{const C=await B.put(`/job/edit/${i._id}`,{...t,selected:p});y(C.data),$("Posted"),x.resetForm(),h(),l(!0),o([{},{},{}])}catch{}finally{}}});return e.jsx("div",{children:e.jsx(L,{isOpen:f,className:"fixed inset-0 flex items-center justify-center z-50 ",overlayClassName:"fixed inset-0 bg-black bg-opacity-75",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg   w-[50vw] mx-auto h-[90vh]",children:[e.jsxs("div",{className:"flex justify-between mb-4",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Job description"}),m?e.jsx(H,{onClick:h}):e.jsx(S,{onClick:k})]}),e.jsxs("form",{onSubmit:u,className:"flex flex-col h-[80vh] justify-between",children:[e.jsx("div",{className:"overflow-y-auto scrollbar-hide",children:e.jsx("div",{className:"grid grid-cols-2 gap-4",children:m?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2",children:"Job Title"}),e.jsx("input",{type:"text",name:"title",value:a.title,onChange:n,onBlur:r,className:"w-full p-2 border rounded"}),s.title&&c.title&&e.jsx("div",{className:"text-red-500 text-sm",children:s.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2",children:"Company"}),e.jsx("input",{type:"text",name:"company",value:a.company,onChange:n,onBlur:r,className:"w-full p-2 border rounded"}),s.company&&e.jsx("div",{className:"text-red-500 text-sm",children:s.company})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2",children:"Experience"}),e.jsx("input",{type:"number",name:"experience",value:a.experience,onChange:n,onBlur:r,className:"w-full p-2 border rounded"}),s.experience&&c.experience&&e.jsx("div",{className:"text-red-500 text-sm",children:s.experience})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2",children:"Location"}),e.jsx("input",{type:"text",name:"location",value:a.location,onChange:n,onBlur:r,className:"w-full p-2 border rounded"}),s.location&&e.jsx("div",{className:"text-red-500 text-sm",children:s.location})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2",children:"Workplace type"}),e.jsxs("select",{name:"workplaceType",value:a.workplaceType,onChange:n,onBlur:r,className:"w-full p-2 border rounded",children:[e.jsx("option",{value:"On-site",label:"On-site"}),e.jsx("option",{value:"Hybrid",label:"Hybrid"}),e.jsx("option",{value:"Remote",label:"Remote"})]}),s.workplaceType&&c.workplaceType&&e.jsx("div",{className:"text-red-500 text-sm",children:s.workplaceType})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2",children:"Experience level"}),e.jsxs("select",{name:"experienceLevel",value:a.experienceLevel,onChange:n,onBlur:r,className:"w-full p-2 border rounded",children:[e.jsx("option",{value:"Entry-level",label:"Entry-level"}),e.jsx("option",{value:"Mid-level",label:"Mid-level"}),e.jsx("option",{value:"Senior",label:"Senior"}),e.jsx("option",{value:"Executive",label:"Executive"})]}),s.experienceLevel&&c.experienceLevel&&e.jsx("div",{className:"text-red-500 text-sm",children:s.experienceLevel})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2",children:"Job type"}),e.jsxs("select",{name:"jobType",value:a.jobType,onChange:n,onBlur:r,className:"w-full p-2 border rounded",children:[e.jsx("option",{value:"Full-time",label:"Full-time"}),e.jsx("option",{value:"Part-time",label:"Part-time"}),e.jsx("option",{value:"Internship",label:"Internship"}),e.jsx("option",{value:"Contract",label:"Contract"}),e.jsx("option",{value:"Other",label:"Other"})]}),s.jobType&&c.jobType&&e.jsx("div",{className:"text-red-500 text-sm",children:s.jobType})]}),e.jsxs("div",{className:"flex",children:[e.jsx("label",{className:" m-2",children:"Is an urgant hiring"}),e.jsx("input",{type:"checkbox",name:"immidiate",checked:a.immidiate,onChange:n,onBlur:r,className:"w-8  border  rounded"}),s.immidiate&&c.immidiate&&e.jsx("div",{className:"text-red-500 text-sm",children:s.immidiate})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2",children:"Min salary"}),e.jsx("input",{type:"number",name:"salarymin",value:a.salarymin,onChange:n,onBlur:r,className:"w-full p-2 border rounded"}),s.salarymin&&c.salarymin&&e.jsx("div",{className:"text-red-500 text-sm",children:s.salarymin})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2",children:"Max salary"}),e.jsx("input",{type:"number",name:"salarymax",value:a.salarymax,onChange:n,onBlur:r,className:"w-full p-2 border rounded"}),s.salarymax&&c.salarymax&&e.jsx("div",{className:"text-red-500 text-sm",children:s.salarymax})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2",children:"Application Deadline"}),e.jsx("input",{type:"date",name:"deadline",value:a.deadline.split("T")[0],onChange:n,onBlur:r,className:"w-full p-2 border rounded"}),s.deadline&&c.deadline&&e.jsx("div",{className:"text-red-500 text-sm",children:s.deadline})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2",children:"Industry"}),e.jsx("select",{name:"industry",value:a.industry,onChange:n,onBlur:r,className:"w-full p-2 border rounded",children:R.map((t,x)=>e.jsx(z,{value:t.value,label:t.label},x))}),s.industry&&e.jsx("div",{className:"text-red-500 text-sm",children:s.industry})]}),e.jsxs("div",{className:" col-span-2",children:[e.jsx("label",{className:"block mb-2",children:"Discription"}),e.jsx("textarea",{type:"text",placeholder:`Tips: Provide a summary of the role, what success in the position looks like, and how this role fits into the organization overall. Responsibilities\r
[Be specific when describing each of the responsibilities. Use gender-neutral, inclusive language.]\r
\r
Example: Determine and develop user requirements for systems in production, to ensure maximum usability\r
\r
Qualifications\r
\r
[Some qualifications you may want to include are Skills, Education, Experience, or Certifications.]\r
\r
Example: Excellent verbal and written communication skills`,name:"description",value:a.description,onChange:n,onBlur:r,className:"w-full p-2 border rounded",rows:"8"}),s.description&&e.jsx("div",{className:"text-red-500 text-sm",children:s.description})]})]}):e.jsxs("div",{className:"col-span-2",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block mb-2",children:"Skills (max 10)"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"text",value:b,onChange:t=>j(t.target.value),className:"w-full p-2 border rounded",placeholder:"Enter a skill"}),e.jsx("button",{type:"button",onClick:N,disabled:a.skills.length>=10,className:"ml-2 px-4 py-2 bg-blue-500 text-white rounded disabled:bg-gray-300",children:"Add"})]}),e.jsx("div",{className:"mt-2 flex flex-wrap",children:a.skills.map((t,x)=>e.jsxs("span",{className:"bg-gray-200 px-2 py-1 rounded m-1 flex items-center",children:[t,e.jsx("button",{type:"button",onClick:()=>g(t),className:"ml-2 text-red-500",children:"Ã—"})]},x))}),s.skills&&c.skills&&e.jsx("div",{className:"text-red-500 text-sm",children:s.skills})]}),e.jsx(P,{selected:p,setSelected:o,skills:a.skills})]})})}),e.jsxs("div",{className:"flex m-6 justify-end space-x-2 ",children:[e.jsx("div",{onClick:h,className:"text-gray-500 hover:text-gray-900",children:"Cancel"}),m?e.jsx("div",{onClick:w,className:"text-blue-500 hover:text-blue-900",children:"Next"}):e.jsx("button",{type:"submit",className:"text-blue-500 hover:text-blue-900",children:"Save"})]})]})]})})})},ce=()=>{var n,r,a,s,c;const f=M(),[i,h]=d.useState(!1),[y,m]=d.useState(!1),[l,p]=d.useState(),[o,b]=d.useState(!1),j=A();F(),d.useEffect(()=>{p(j.state.job)},[]);const N=()=>{b(!o)},g=u=>{f("/job/applications",{state:{id:u}})},k=()=>{m(!1)},w=()=>{m(!0)};return e.jsx(e.Fragment,{children:i?e.jsx("div",{className:"flex justify-center items-center  ",children:e.jsx(O,{visible:!0,height:"80",width:"80",color:"#3333ff",ariaLabel:"three-dots-loading"})}):l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-white rounded-lg shadow-xl h-full w-full flex flex-col  overflow-y-auto",children:e.jsxs("div",{className:"p-6 flex flex-col flex-grow ",children:[e.jsxs("div",{className:"flex-grow",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Job Details"}),e.jsx(I,{to:"/job/posted-jobs",className:"text-gray-400 hover:text-gray-600",children:e.jsx(S,{size:24})})]}),e.jsx("h3",{className:"text-2xl font-bold mb-2",children:l.title}),e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[e.jsx(V,{size:12,className:"mr-1"})," ",l.location]}),e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:l.jobType}),e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:l.experienceLevel})]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["at ",l.company||"--"]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-4",children:[e.jsx(q,{size:16}),e.jsx("span",{children:l.workplaceType})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-lg font-semibold mb-2",children:"About the Job"}),e.jsxs("p",{className:"text-gray-600 mb-2 ",children:[o?l.description:`${(n=l==null?void 0:l.description)==null?void 0:n.slice(0,100)}`,((r=l.description)==null?void 0:r.length)>100&&e.jsx("button",{onClick:N,className:"text-blue-500 ml-2 text-sm",children:o?"Read Less":"Read More"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-2",children:"Skills"}),e.jsx("div",{className:"flex flex-wrap space-x-2 ",children:(a=l==null?void 0:l.skills)==null?void 0:a.map((u,v)=>e.jsx("span",{className:"bg-gray-200 px-3 py-1 rounded-md  text-gray-700",children:u.toUpperCase()},v))})]}),e.jsxs("div",{className:"flex flex-col  text-sm text-gray-600 mb-4 mt-4",children:[e.jsxs("p",{children:["Application Starts: ",l.createdAt.split("T")[0]]}),e.jsxs("p",{children:["Application Ends: ",(s=l==null?void 0:l.deadline)==null?void 0:s.split("T")[0]]}),e.jsxs("p",{children:["Total applicants: ",((c=l==null?void 0:l.appication)==null?void 0:c.length)||0]})]})]}),e.jsxs("div",{className:"mt-auto pt-4 flex justify-end space-x-4",children:[e.jsx("button",{onClick:()=>{g(l._id)},className:"bg-white text-black border border-black py-1 px-7 text-sm rounded-full hover:bg-blue-500 hover:text-white",children:"Show Applicants"}),e.jsx("button",{onClick:w,className:"bg-white text-black border border-black py-1 px-7 text-sm rounded-full hover:bg-blue-500 hover:text-white",children:"Edit"})]})]})}),e.jsx(_,{setJob:p,closeModal:k,isOpen:y,job:l})]}):e.jsxs("div",{className:"flex flex-col justify-center items-center relative p-6 mb-6 border border-gray-300 rounded-lg bg-white shadow-md w-full   h-full mx-auto",children:[e.jsx(U,{className:"w-12 h-12 mb-4 text-gray-500"}),e.jsx("p",{className:"text-gray-600 text-center",children:"Not found"})]})})};export{ce as default};
