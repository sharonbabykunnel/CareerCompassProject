import{r as m}from"./vendor-DoS0LqYF.js";import{g,r as f,u as w,a as b}from"./index.esm2017-CPphcNcN.js";import{e as h}from"./firebase-BMJo9WuB.js";const P=()=>{const l=g(h),o=m.useCallback((a,t,n)=>new Promise((s,c)=>{const r=new Date().getTime()+"name"+a.name,i=f(l,r),u=w(i,a);u.on("state_changed",e=>{const d=e.bytesTransferred/e.totalBytes*100;switch(n(d),e.state){}},e=>{c(e)},()=>{b(u.snapshot.ref).then(e=>{s({[t]:e})})})}),[l]),p=m.useCallback(async(a,t,n)=>{try{const s=a.map(r=>o(r,t,n));return(await Promise.all(s)).map(r=>r[t])}catch(s){throw console.error("Error uploading files:",s),s}},[o]);return{uploadFile:o,uploadFiles:p}};export{P as u};
