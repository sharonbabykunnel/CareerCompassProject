import{u as y,a as N,T as D,U as O,j as e,M as S}from"./index-BfulgVQ3.js";import{u as w}from"./formik.esm-08AmrUP1.js";import{r as C}from"./vendor-DoS0LqYF.js";import{e as k}from"./index-D4NhA3_c.js";import{e as B,b as F}from"./educationService-Cuzpg1zA.js";import{X as T}from"./x-D2pczkxf.js";const z=({closeEditModal:d,isEditModalOpen:p,newEdu:x,selectedEducation:t,setEducation:o})=>{const f=y(c=>c.presisted.user),h=N(),b={institution:"",course:"",fieldOfStudy:"",startDate:"",endDate:"",grade:"",activity:"",description:"",isOngoing:!1},{handleChange:a,handleBlur:i,values:n,errors:s,touched:l,handleSubmit:j,setValues:u}=w({initialValues:b,validationSchema:k,onSubmit:async(c,g)=>{try{d();let r;x?(r=await F(f.uid,c),o?o(m=>[...m,r.data]):h(O(r.data))):(r=await B(t._id,c),o?o(m=>[...m,r.data]):h(D(r.data)));const v=r.data;Success(v.message),g.resetForm()}catch{}finally{}}});return C.useEffect(()=>{u(t?{institution:t.institution,course:t.course,fieldOfStudy:t.fieldOfStudy,startDate:t.startDate,endDate:t.endDate,activity:t.activiry,description:t.description,isOngoing:t.isOngoing,grade:t.grade}:{institution:"",course:"",fieldOfStudy:"",startDate:"",endDate:"",grade:"",activity:"",description:"",isOngoing:!1})},[t,u]),e.jsx("div",{children:e.jsx(S,{isOpen:p,onRequestClose:d,className:"fixed inset-0 flex items-center justify-center z-50 mt-[80px]",overlayClassName:"fixed inset-0 bg-black bg-opacity-75",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-lg mx-auto h-[80vh] overflow-auto scrollbar-hide",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("h2",{className:"text-2xl font-semibold mb-4",children:[x?"Add":"Edit"," Education"]}),e.jsx(T,{onClick:d})]}),e.jsxs("form",{onSubmit:j,children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2",children:"Course"}),e.jsx("input",{type:"text",name:"course",value:n.course,onChange:a,onBlur:i,className:"w-full p-2 border rounded"}),s.course&&l.course&&e.jsx("div",{className:"text-red-500 text-sm",children:s.course})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2",children:"Institution"}),e.jsx("input",{type:"text",name:"institution",value:n.institution,onChange:a,onBlur:i,className:"w-full p-2 border rounded"}),s.institution&&l.institution&&e.jsx("div",{className:"text-red-500 text-sm",children:s.institution})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2",children:"Grade"}),e.jsx("input",{type:"text",name:"grade",value:n.grade,onChange:a,onBlur:i,className:"w-full p-2 border rounded"}),s.grade&&l.grade&&e.jsx("div",{className:"text-red-500 text-sm",children:s.grade})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2",children:"Field of Study"}),e.jsx("input",{type:"text",name:"fieldOfStudy",value:n.fieldOfStudy,onChange:a,onBlur:i,className:"w-full p-2 border rounded"}),s.fieldOfStudy&&l.fieldOfStudy&&e.jsx("div",{className:"text-red-500 text-sm",children:s.fieldOfStudy})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2",children:"Start Date"}),e.jsx("input",{type:"date",name:"startDate",value:n.startDate.split("T")[0],onChange:a,onBlur:i,className:"w-full p-2 border rounded"}),s.startDate&&l.startDate&&e.jsx("div",{className:"text-red-500 text-sm",children:s.startDate})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2",children:"End Date"}),e.jsx("input",{type:"date",name:"endDate",value:n.endDate.split("T")[0],onChange:a,onBlur:i,className:"w-full p-2 border rounded"}),s.endDate&&l.endDate&&e.jsx("div",{className:"text-red-500 text-sm",children:s.endDate})]}),e.jsxs("div",{className:"flex",children:[e.jsx("label",{className:" m-2",children:"Is Ongoin "}),e.jsx("input",{type:"checkbox",name:"isOngoing",value:n.isOngoing,onChange:a,onBlur:i,className:"w-8  border  rounded"}),s.isOngoing&&l.isOngoing&&e.jsx("div",{className:"text-red-500 text-sm",children:s.isOngoing})]}),e.jsxs("div",{className:" col-span-2",children:[e.jsx("label",{className:"block mb-2",children:"Activity"}),e.jsx("input",{type:"text",name:"activity",value:n.activity,onChange:a,onBlur:i,className:"w-full p-2 border rounded"}),s.activity&&l.activity&&e.jsx("div",{className:"text-red-500 text-sm",children:s.activity})]}),e.jsxs("div",{className:" col-span-2",children:[e.jsx("label",{className:"block mb-2",children:"Discription"}),e.jsx("input",{type:"text",name:"description",value:n.description,onChange:a,onBlur:i,className:"w-full p-2 border rounded"}),s.description&&l.description&&e.jsx("div",{className:"text-red-500 text-sm",children:s.description})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[e.jsx("button",{type:"button",onClick:d,className:"text-gray-500 hover:text-gray-900",children:"Cancel"}),e.jsx("button",{type:"submit",className:"text-blue-500 hover:text-blue-900",children:"Save"})]})]})]})})})};export{z as E};
