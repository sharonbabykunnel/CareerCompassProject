import{e as T,r as o,c as q,h as g,m as v,j as e,M as N,a as D,b as S,u as y,O as I}from"./index-ClK_m8zv.js";import{H as U}from"./Header_user-Cnwj6xK6.js";import{u as A}from"./useUploadFile-CpyfJIUY.js";import{S as B,F as w}from"./popup-DRkXmpwR.js";import{u as V}from"./formik.esm-DJSReezE.js";import{c as Z,a as h}from"./index.esm-BfpN0ylN.js";import{i as _}from"./job-DGFET02G.js";import{S as X}from"./SelectOption-CjniAO4L.js";import{P}from"./pencil-MO_gvIpR.js";import{X as b}from"./x-BoneMfX0.js";import"./share-2-D-fv531N.js";import"./briefcase-business-4Rx6cH0y.js";import"./index.esm2017-CNxATXbe.js";import"./firebase-D7XoWCjm.js";import"./hoist-non-react-statics.cjs-De5jhhz5.js";/**
 * @license lucide-react v0.411.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=T("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),J=({user:s})=>{const[r,c]=o.useState(!1),[d,l]=o.useState(!1),[n,k]=o.useState(0),[m,C]=o.useState(0),[p,M]=o.useState(),[ee,O]=o.useState(0),j=o.useRef(),{uploadFile:E}=A(),f=q(),F=()=>c(!0),u=()=>c(!1),R=()=>l(!0),x=()=>l(!1),$=()=>j.current.click(),H=t=>M(t.target.files[0]),z=async()=>{try{const t=await E(p,"photo",O),i=await g.patch(`/user/coverPhoto/update/${s.uid}`,{url:t});f(v(i.data)),u()}catch(t){w(t.response?t.response.data.message:t.message)}},L=Z({name:h().required("Name is required"),pronouns:h(),position:h(),about:h()}),a=V({initialValues:{name:s.name||"",pronouns:s.pronouns||"",position:s.position||"",about:s.about||""},validationSchema:L,onSubmit:async t=>{try{const i=await g.patch(`/user/userDetails/update/${s.uid}`,t);f(v(i.data)),x(),B("Profile updated successfully")}catch(i){w(i.response?i.response.data.message:i.message)}}});return o.useEffect(()=>{a.setValues({name:s.name||"",pronouns:s.pronouns||"",position:s.position||"",about:s.about||"",industry:s.industry||""})},[s]),e.jsxs("div",{className:"bg-white rounded-xl overflow-hidden shadow-md",children:[e.jsxs("div",{className:"relative h-32",children:[e.jsx("img",{src:s.coverPhoto||"https://via.placeholder.com/800x200.png?text=Cover+Photo",alt:"Cover",className:"w-full h-full object-cover"}),e.jsx("button",{onClick:F,className:"absolute top-2 right-2 p-2 bg-white rounded-full shadow-md",children:e.jsx(P,{size:16})})]}),e.jsxs("div",{className:"relative px-4 pb-4",children:[e.jsx("img",{src:s.profilePhoto||"https://cdn-icons-png.flaticon.com/128/3059/3059518.png",className:"absolute -top-16 left-4 w-32 h-32 rounded-full border-4 border-white bg-white shadow-lg",alt:"Profile"}),e.jsx("button",{onClick:R,className:"absolute top-2 right-2 p-2 bg-white rounded-full shadow-md",children:e.jsx(P,{size:16})}),e.jsxs("div",{className:"pt-20",children:[e.jsxs("h1",{className:"text-xl font-semibold",children:[s.name,e.jsx("span",{className:" text-sm p-2 text-slate-700",children:s.pronouns})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.position}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:s.about})]})]}),e.jsx(N,{isOpen:r,onRequestClose:u,className:"fixed inset-0 flex items-center justify-center z-50 mt-[80px]",overlayClassName:"fixed inset-0 bg-black bg-opacity-75",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-lg mx-auto  overflow-auto scrollbar-hide",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Change Cover Photo"}),e.jsx(b,{onClick:u})]}),e.jsx("div",{className:"relative bg-black h-64 flex justify-center items-center mb-4",children:e.jsx("img",{src:p?URL.createObjectURL(p):s.coverPhoto||"https://via.placeholder.com/800x200.png?text=Cover+Photo",alt:"Background",className:`object-cover transform ${m?`rotate(${m}deg)`:""}`,style:{transform:`scale(${1+n/100}) rotate(${m}deg)`}})}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("label",{children:"Zoom"}),e.jsx("input",{type:"range",min:"0",max:"100",value:n,onChange:t=>k(t.target.value),className:"w-2/3"})]}),e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("label",{children:"Straighten"}),e.jsx("input",{type:"range",min:"-45",max:"45",value:m,onChange:t=>C(t.target.value),className:"w-2/3"})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("button",{className:"text-gray-500 hover:bg-red-800 p-2 rounded",children:"Delete photo"}),e.jsxs("div",{children:[e.jsx("button",{className:"bg-gray-200 text-gray-700 px-4 py-2 rounded mr-2",onClick:$,children:"Change photo"}),e.jsx("input",{type:"file",ref:j,style:{display:"none"},onChange:H}),e.jsx("button",{className:"bg-blue-500 text-white px-4 py-2 rounded",onClick:z,children:"Save"})]})]})]})}),e.jsx(N,{isOpen:d,onRequestClose:x,className:"fixed inset-0 flex items-center justify-center z-50 mt-[80px]",overlayClassName:"fixed inset-0 bg-black bg-opacity-75",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-lg mx-auto h-[80vh] overflow-auto scrollbar-hide",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Edit Profile"}),e.jsx(b,{onClick:x})]}),e.jsxs("form",{onSubmit:a.handleSubmit,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block mb-2",children:"Name"}),e.jsx("input",{type:"text",name:"name",...a.getFieldProps("name"),className:"w-full p-2 border rounded"}),a.touched.name&&a.errors.name&&e.jsx("div",{className:"text-red-500 text-sm",children:a.errors.name})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block mb-2",children:"Pronouns"}),e.jsxs("select",{name:"employmentType",...a.getFieldProps("pronouns"),className:"w-full p-2 border rounded",children:[e.jsx("option",{value:"",label:"Select Pronoun"}),e.jsx("option",{value:"He/Him",label:"He/Him"}),e.jsx("option",{value:"She/Her",label:"She/She"}),e.jsx("option",{value:"They/Them",label:"They/Them"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block mb-2",children:"Position"}),e.jsx("input",{type:"text",name:"position",...a.getFieldProps("position"),className:"w-full p-2 border rounded"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block mb-2",children:"Industry"}),e.jsx("select",{name:"industry",...a.getFieldProps("industry"),className:"w-full p-2 border rounded",children:_.map((t,i)=>e.jsx(X,{value:t.value,label:t.label},i))})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block mb-2",children:"About"}),e.jsx("textarea",{name:"about",...a.getFieldProps("about"),className:"w-full p-2 border rounded",rows:"4"})]}),e.jsx("div",{className:"flex justify-end space-x-2 mt-4",children:e.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Save"})})]})]})})]})},K=({list:s})=>{const r=D(),d=S().pathname.split("/")[2],l=n=>{r(n)};return e.jsxs("div",{onClick:()=>l(s.path),className:`flex-1 gap-5 flex p-4 b ${d===s.path?"bg-blue-500":"bg-white"} hover:bg-blue-200`,children:[d===s.path?e.jsx(G,{}):e.jsx(b,{}),e.jsx("div",{children:s.path})]})},Q=[{path:"Post"},{path:"Education"},{path:"Resume"},{path:"Experience"},{path:"Skill"},{path:"Saved"},{path:"Reposted"},{path:"Archive"}],W=()=>e.jsx("div",{className:"rounded-xl bg-white m-10  overflow-hidden h-74 flex flex-col ",children:Q.map(s=>e.jsx(K,{list:s},s.path))}),Y=()=>{const s=S(),[r,c]=o.useState(null),d=y(l=>l.presisted.user);return o.useEffect(()=>{var l,n;(l=s==null?void 0:s.state)!=null&&l.user?c((n=s==null?void 0:s.state)==null?void 0:n.user):c(d)},[y]),e.jsxs("div",{className:"grid grid-cols-3  h-[90vh]  bg-lite_user",children:[e.jsx("div",{children:e.jsx(W,{})}),e.jsx("div",{className:"col-span-2 h-full overflow-scroll scrollbar-hide",children:e.jsxs("div",{className:"m-10 ml-0 rounded-xl",children:[r&&e.jsx(J,{user:r}),e.jsx(I,{})]})})]})},be=()=>e.jsxs("div",{children:[e.jsx(U,{}),e.jsx(Y,{})]});export{be as default};
