import{k as x,u as h,j as s,d as l,B as c}from"./index-tHbs8s1P.js";import{u as f,r as a}from"./vendor-DoS0LqYF.js";import{C as j}from"./clock-CEPJ7z5l.js";import"./chart-Bxe9v4kL.js";const y=({})=>{x(),f();const[n,i]=a.useState([]),[d,g]=a.useState(""),o=h(e=>e.presisted.user.uid);a.useEffect(()=>{(async()=>{const t=await l.get("/connection/requests/"+o);i(t.data)})()},[]);const r=n.reduce((e,t)=>(t.recipient[0].name.toLowerCase().includes(d.toLowerCase())?e.unshift(t):e.push(t),e),[]),m=async e=>{try{const t=await l.delete("/connection/leaveRequest/"+e);t.data&&(i(u=>u.filter(p=>p._id!=e)),c(t.data.message))}catch(t){c.error(t.message)}};return s.jsxs("div",{className:" p-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Requests"}),s.jsx("div",{className:"text-purple-600 cursor-pointer",children:"Sort by newly added"})]}),s.jsx("div",{className:"space-y-4",children:r==null?void 0:r.map(e=>s.jsxs("div",{className:"flex items-center justify-between bg-white p-4 rounded-lg shadow",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("img",{src:e.recipient[0].profilePhoto||"https://cdn-icons-png.flaticon.com/128/3059/3059518.png",alt:e.name,className:"w-16 h-16 rounded-full mr-4"}),s.jsxs("div",{children:[s.jsx("h2",{className:"font-bold",children:e.recipient[0].name}),s.jsx("p",{className:"text-sm text-gray-600",children:e.skills}),s.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-1",children:[s.jsx(j,{size:12,className:"mr-1"}),s.jsxs("span",{children:["Connected ",e.connectedTime]})]})]})]}),s.jsx("button",{className:"px-4 py-2 bg-white text-purple-600 border border-purple-600 rounded-full hover:bg-purple-100 transition-colors",onClick:()=>m(e._id),children:"Leave"})]},e._id))})]})};export{y as default};
