import{u as m,a as N,j as e,N as R,O as y}from"./index-BfulgVQ3.js";import{r as o}from"./vendor-DoS0LqYF.js";import{a as v}from"./module-DdcInekB.js";import{S as n,F as S}from"./popup-CMwNQmR-.js";import{u as F,a as w}from"./educationService-Cuzpg1zA.js";import{u as U}from"./useUploadFile-CVp1E-MT.js";import{X as C}from"./x-D2pczkxf.js";import{F as E}from"./file-text-BzR4Ole3.js";import{T as k}from"./trash-_0nASAB8.js";import"./chart-Bxe9v4kL.js";import"./index.esm2017-DWcddl5D.js";import"./firebase-BNWmzrjJ.js";const H=()=>{const[d,i]=o.useState(!1),[t,l]=o.useState(null),[$,u]=o.useState(0),a=m(s=>s.presisted.profile.resume),p=m(s=>s.presisted.user.uid),c=N(),{uploadFile:f}=U(),h=async s=>{const r=s.target.files[0];r&&l(r)},x=async()=>{try{i(!0);const s=await f(t,"resume",u),g=(await F(p,s.resume)).data;c(R(g)),n("Resume updated successfully"),l(null)}catch(s){console.error("Error updating resume:",s),S("Upload failed")}finally{i(!1)}},b=()=>{l(null)},j=async s=>{await w(s)&&(c(y(s)),n("Resume Deleted Successfully"))};return e.jsxs("div",{className:"p-6 bg-gray-100 rounded-lg shadow-md mt-4",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Resume"}),d?e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(v,{visible:!0,height:"80",width:"80",color:"#3333ff",ariaLabel:"three-dots-loading"})}):e.jsx("div",{children:e.jsxs("div",{className:"flex items-center mb-4",children:[t?e.jsx("button",{onClick:x,className:"bg-blue-500 hover:bg-blue-600 ml-0 text-white py-2 px-4 rounded-lg",children:"Upload Resume"}):e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"file",id:"resume",name:"resume",accept:".pdf,.doc,.docx",onChange:h,className:"hidden"}),e.jsx("label",{htmlFor:"resume",className:"cursor-pointer bg-blue-500 hover:bg-blue-600 ml-0 text-white py-2 px-4 rounded-lg",children:"Choose Resume"})]}),t&&e.jsxs("span",{className:"ml-4 border flex items-center p-2 rounded",children:["Selected File: ",t.name,e.jsx(C,{onClick:b,className:"ml-2 cursor-pointer"})]})]})}),a&&a.length>0?e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Uploaded Resumes:"}),e.jsx("ul",{className:"space-y-2",children:a.map((s,r)=>e.jsxs("li",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex",children:[e.jsx(E,{className:"mr-2"}),e.jsx("a",{href:s.resume,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:s.name||`Resume ${r+1}`})]}),e.jsx(k,{onClick:()=>j(s._id)})]},s._id))})]}):e.jsx("div",{children:"No Resumes"})]})};export{H as default};
