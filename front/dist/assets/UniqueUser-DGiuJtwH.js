import{b as u,r as a,j as s,L as h}from"./index-BaErjgBV.js";import{a as t}from"./adminInterceptor-DvrKKNyT.js";import{S as o}from"./popup-BXYOKbYg.js";import"./url-C7Fa9dY1.js";const f=()=>{const i=u(),[e,c]=a.useState(null),[l,r]=a.useState([]);a.useEffect(()=>{c(i.state.user),(async()=>{const x=await t.get(`/user/associated/${i.state.user.uid}`);r(x.data)})()},[]);const d=async()=>{(await t.post(`/user/unblock/${e.uid}`)).data.message==="success"&&(o("Unblocked"),c({...e,isBlocked:!1}))},m=async()=>{(await t.post(`/user/block/${e.uid}`)).data.message==="success"&&(o("User Blocked"),c({...e,isBlocked:!0}))};return s.jsx("section",{className:"content-main",children:e?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("div",{className:"flex items-center m-4 gap-2",children:[s.jsx(h,{to:"/admin/users",children:s.jsx("img",{className:"w-8",src:"https://cdn-icons-png.flaticon.com/128/3114/3114883.png"})}),s.jsx("div",{children:"Go back"})]}),e.isBlocked?s.jsx("button",{onClick:d,className:"m-4 bg-green-700 px-4 rounded",children:"Unblock"}):s.jsx("button",{onClick:m,className:"m-4 bg-red-700 px-4 rounded",children:"Block"})]}),s.jsxs("div",{className:"rounded-xl overflow-hidden border m-4 relative",children:[s.jsxs("div",{className:"relative w-full h-40",children:[s.jsx("div",{className:"w-full h-full bg-blue-600",style:{backgroundImage:`url(${e.coverPhoto})`,backgroundSize:"cover",backgroundPosition:"center"}}),s.jsx("div",{className:"absolute rounded-xl max-w-32 top-20 left-6 bg-white shadow-lg",children:s.jsx("img",{className:"rounded-xl object-cover",src:(e==null?void 0:e.profilePhoto)||"https://cdn-icons-png.flaticon.com/128/3059/3059518.png",alt:"Profile"})})]}),s.jsxs("div",{className:"mt-20",children:[s.jsxs("div",{className:"row",children:[s.jsxs("div",{className:"ml-4",children:[s.jsx("h3",{children:e.name}),s.jsxs("p",{className:"text-sm text-right pt-2",children:[e.position," ",s.jsx("br",{})," ",e.about]})]}),s.jsx("div",{className:"col-xl-4 text-md-end"})]}),s.jsx("hr",{className:"my-4"}),s.jsxs("div",{className:"",children:[s.jsx("div",{className:"rounded border mx-4",children:s.jsxs("article",{className:"p-2",children:[s.jsxs("p",{className:"mb-0 text-muted",children:["Connections: ",s.jsx("span",{className:"text-success",children:l[0]})]}),s.jsxs("p",{className:"mb-0 text-muted",children:["Total post: ",s.jsx("span",{className:"text-success",children:l[1]})]}),s.jsxs("p",{className:"mb-0 text-muted",children:["Job post: ",s.jsx("span",{className:"text-success",children:l[2]})]})]})}),s.jsxs("div",{className:"flex justify-between p-2",children:[s.jsxs("div",{className:"col-sm-6 col-lg-4 col-xl-3",children:[s.jsx("h6",{children:"Details"}),s.jsxs("p",{children:["Email: ",e.email," ",s.jsx("br",{}),"Mobile No.: ",e.mobile||"--"," ",s.jsx("br",{})]})]}),s.jsx("div",{className:"col-sm-6 col-lg-4 col-xl-3",children:s.jsxs("p",{children:["About: ",(e==null?void 0:e.position)||""," ",s.jsx("br",{}),"status: ",e.isVerified?"verified":"not verified"]})})]})]})]})]})]}):s.jsx("div",{children:"loading"})})};export{f as default};
